---
title: "Код с комментариями по второму заданию"
author: "Пахомова, Пантелеева, Кулик, группа 411"
output: html_notebook
---

###Описание задания

Целью второго задания было проведение разведывательного анализа данных для того, чтобы определить, с каким из поставщиков стали следует заключить договор, основываясь на имеющихся данных по производству оружия и количеству единиц сломанного оружия за каждый месяц каждым из кузнецов двух анализируемых компаний.

###Выполнение задания

Код состоит из трёх основных блоков.

+ Сначала идёт перенастройка директории, считывание исходных данных из файла `production-data.csv` и инициализация переменных.

```{r}
setwd("C:/Users/Anastasia Panteleeva/Desktop/task2")

data <- read.csv(file = "production-data.csv", header = TRUE)

sum_defect <- 0
sum_produced <- 0
table1 <- c()
table2 <- c()
count <- 0
```


+ Во втором блоке идёт обработка данных для дальнейшего их использования в анализе.

Обработка производится следующим образом:

Для обеих компаний в разных циклах считаются вектора длиной 6 `table1` и `table2`, содержащие общее количество целых мечей, произведённых компанией, на данный момент времени: из значения количества произведённых мечей в партии `sum_produced` вычитается сумма количества сломанных мечей от рассматриваемой партии `sum_defect`на данный момент времени, все значения берутся суммарно по всем кузнецам компании.

Т.е. если в первый месяц было произведено Х мечей всеми кузнецами компании, и за 6 месяцев сломалось Y мечей от количества произведенного X, то первым элементом вектора будет значение (X - Y), и т.д.

```{r}
for (j in 1:6) {
  for (i in 1:50) {
    for (k in 1:(8-j)) {
      sum_defect <- sum_defect + data[k+27*(i-1)+count,5]
    }
    sum_produced <- sum_produced + data[27*(i-1)+1+count,4]
    sum_produced <- sum_produced - sum_defect 
    sum_defect <- 0
  }
  table1 <- append(table1, sum_produced)
  sum_produced <- 0
  count <- count + (8-j)
}

count <- 0

for (j in 1:6) {
  for (i in 51:100) {
    for (k in 1:(8-j)) {
      sum_defect <- sum_defect + data[k+27*(i-1)+count,5]
    }
    sum_produced <- sum_produced + data[27*(i-1)+1+count,4]
    sum_produced <- sum_produced - sum_defect 
    sum_defect <- 0
  }
  table2 <- append(table2, sum_produced)
  sum_produced <- 0
  count <- count + (8-j)
}

```
+ В последнем блоке данные выводятся на диаграмме размаха ("Ящик с усами") для дальнейшего анализа эффективности производства каждой из компаний. Для этого используем функцию `boxplot()`.

По оси абсцисс стоят рассматриваемые компании, по оси ординат значения векторов `table1` и `table2`.

```{r}
Companies <- c("Harpy", "Harpy", "Harpy", "Harpy", "Harpy", "Harpy", "Westeros", "Westeros", "Westeros", "Westeros", "Westeros", "Westeros")
Month <- c(table1, table2)

boxplot(Month ~ Companies, col=c("purple", "green"))
```

###Список участников

+ Пахомова Маргарита, 411 группа - *Написание кода*
+ Пантелеева Анастасия, 411 группа - *Написание Rnotebook и презентации*
+ Кулик Артём, 411 группа - *Написание кода*