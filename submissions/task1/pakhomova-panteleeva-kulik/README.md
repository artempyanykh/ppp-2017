#### **ПОСТАНОВКА И ВЫПОЛНЕНИЕ ЗАДАНИЯ**

В рамках первого задания практикума необходимо провести анализ
временного ряда и попробовать предсказать значения для последующих
месяцев.

Были выполнены все **три пункта задания**:

* * * * *

1.  *Проверка тренировочного ряда на стационарность одним из двух
    способов:*

    1.  *Визуальная оценка:*

        *Исследовать графики ряда, скользящей статистики (среднего,
        стандартного отклонения)*

    2.  *Тест Дики-Фуллера*

* * * * *

**Метод решения:**

Для исследования тренировочного ряда на стационарность использовался
первый способ визуальной оценки.

С помощью функции `SMA()` строим скользящее среднее ряда с интервалом 5.
Строим стандартное отклонение исходного временного ряда от его
скользящего среднего (по формуле: значения исходного временного ряда –
значения его скользящего среднего арифметического).

При визуализации на графике всех полученных временных рядов (исходного,
скользящего среднего и отклонения) был сделан вывод о нестационарности
исходного ряда.

* * * * *

*2. Разложение временного ряда на тренд, сезонность и остаток в
соответствии с аддитивной и мультипликативной моделями. Полученные
результаты визуализировать на графике и оценить стационарность.*

* * * * *

**Метод решения:**

Для разложения временного ряда использовалась функция `decompose()` для
случая аддитивной и мультипликативной модели, в результате чего получили
четыре графика: наблюдаемый, тренд, сезонность и остаток.

По полученной визуализации делаем выводы о стационарности рядов:
наблюдаемый ряд и тренд являются нестационарными рядами, в то время как
сезонность и остаток – стационарны.

* * * * *

*3. Проверка полученного ряда на интегрируемость порядка k.* *В случае
интегрированности ряда применить к нему модель ARIMA с коэффициентами,
полученными применением функции автокорреляции и функции частичной
автокорреляции. Для нескольких моделей предсказать значения тестовой
выборки, визуализировать их, посчитать r2 score для каждой из моделей. С
помощью информационного метода Акаике произвести отбор наилучшей модели
и провести анализ полученных результатов.*

* * * * *

**Метод решения:**

Для реализации этого пункта задания использовалась дополнительные
библиотеки `forecast` и `MLmetrics`.

Ряд называется интегрируемым, если ряд его разностей – стационарен.

Сначала находится число разностей, достаточное для того, чтобы ряд
разностей был стационарен. Это число также является порядком
интегрируемости. Для нахождения этого числа к тренировочному ряду
применяем функцию `ndiffs()` и получаем значение равное единице. Таким
образом, по определению, исходный тренировочный ряд является
интегрируемым с порядком интегрируемости равным 1.

Находим ряд разностей исходного тренировочного ряда с помощью функции
`diff()` и полученного на предыдущем шаге порядка интегрируемости. В
силу определения порядка интегрируемости полученный ряд разностей
является стационарным.

Для нахождения коэффициента **q** модели ARIMA к полученному ряду
разностей применяем функцию автокорреляции `acf()`, визуализируем
полученный результат на графике и анализируем его: - Нумеруем полученные
лаги слева направо от 0 и далее - Фиксируем номер первого лага,
попадающего в границы значимости - Значение коэффициента q = номер лага,
полученного на предыдущем шаге – 1

Аналогичным образом находим коэффициент **p** применением функции
частичной автокорреляции `pacf()`, визуализируем полученный результат на
графике и анализируем его аналогичным коэффициенту q образом, но нумеруя
лаги начиная с 1.

В результате имеем все три коэффициента модели ARIMA: p = 2, q = 4, d =
1 (порядок интегрируемости временного ряда).

К тестовому временному ряду трижды применяем модель ARIMA с различными
значениями коэффициентов:

-   ARIMA(2, 1, 0)
-   ARIMA(0, 1, 4)
-   ARIMA(2, 1, 4)

В результате чего получаем три модели. Для каждой из них строим прогноз,
используя функцию `forecast.ARIMA()` и находим коэффициент детерминации
(r2 score) с помощью функции `R2_Score()`.

Для нахождения наилучшей модели применяем информационный критерий Акаике
с помощью функции `AIC()`. Считается, что наилучшей является модель с
наименьшим значением критерия AIC. В нашем случае лучшие результаты дала
модель ARIMA(0, 1, 4).

Визуализируем результат прогноза наилучшей модели и накладываем на него
фактические (тренировочные) данные временного ряда. Анализируя график,
видим, что фактические данные не выходят за пределы спрогнозированной
области, из чего делаем вывод, что прогноз дал правильные результаты.

* * * * *

#### **ИНСТРУКЦИЯ ПО ЗАПУСКУ**

Для запуска программы необходимо установить RStudio и установить
необходимые библиотеки:

`install.packages(“xts”)`

`install.packages(“forecast”)`

`install.packages(“MLmetrics”)`

`library(TTR)`

* * * * *

#### **СПИСОК УЧАСТНИКОВ ГРУППЫ**

-   Пахомова Маргарита, группа 411 *– написание кода, сдача проекта в
    GitHub*
-   Кулик Артём, группа 411 *– написание кода*
-   Пантелеева Анастасия, группа 411 *– написание ReadMe*

